@namespace Accredia.SIGAD.Web.Components.Shared

<div class="sigad-page-header">
    <div class="sigad-page-header-left">
        <MudText Typo="Typo.h4" Class="sigad-page-title">@Title</MudText>
        @if (!string.IsNullOrWhiteSpace(Subtitle))
        {
            <MudText Typo="Typo.body2" Class="sigad-page-subtitle">@Subtitle</MudText>
        }
        @if (HasStructuredBreadcrumbs)
        {
            <nav class="sigad-breadcrumbs" aria-label="Breadcrumb">
                @for (var i = 0; i < BreadcrumbItems!.Count; i++)
                {
                    var item = BreadcrumbItems[i];
                    var isLast = i == BreadcrumbItems.Count - 1;

                    @if (i > 0)
                    {
                        <span class="sigad-breadcrumb-sep" aria-hidden="true">/</span>
                    }

                    @if (isLast || string.IsNullOrWhiteSpace(item.Href))
                    {
                        <span class="sigad-breadcrumb-current" aria-current="page">@item.Label</span>
                    }
                    else
                    {
                        <a class="sigad-breadcrumb-link" href="@item.Href">@item.Label</a>
                    }
                }
            </nav>
        }
        else if (HasLegacyBreadcrumbs)
        {
            <MudText Typo="Typo.caption" Class="sigad-page-breadcrumbs">@Breadcrumbs</MudText>
        }
    </div>
    @if (HasActions)
    {
        <div class="sigad-page-header-action">
            <MudStack Direction="Row" Spacing="1" AlignItems="AlignItems.Center">
                @if (HasBackButton)
                {
                    <MudButton Variant="Variant.Text"
                               Color="Color.Default"
                               Href="@BackHref"
                               StartIcon="@Icons.Material.Filled.ArrowBack"
                               Class="sigad-back-btn"
                               aria-label="@BackLabel">
                        @BackLabel
                    </MudButton>
                }
                @if (!string.IsNullOrWhiteSpace(SecondaryActionLabel))
                {
                    <MudButton Variant="Variant.Outlined"
                               Color="Color.Inherit"
                               Disabled="SecondaryActionDisabled"
                               OnClick="OnSecondaryAction">
                        @SecondaryActionLabel
                    </MudButton>
                }
                @if (!string.IsNullOrWhiteSpace(PrimaryActionLabel))
                {
                    <MudButton Variant="Variant.Filled"
                               Color="Color.Primary"
                               Disabled="PrimaryActionDisabled"
                               OnClick="OnPrimaryAction">
                        @PrimaryActionLabel
                    </MudButton>
                }
            </MudStack>
        </div>
    }
</div>
