{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    },
    "Console": {
      "IncludeScopes": true
    }
  },
  "AllowedHosts": "*",
  "Jwt": {
    "Issuer": "Accredia.SIGAD.Identity",
    "Audience": "Accredia.SIGAD",
    "Key": "DEV_ONLY_CHANGE_THIS_TO_A_LONG_RANDOM_SECRET"
  },
  "ReverseProxy": {
    "ClusterDefaults": {
      "HttpClient": {
        "RequestTimeout": "00:00:30"
      }
    },
    "Routes": {
      "identity-auth-login": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/auth/login"
        },
        "Order": 0,
        "RateLimiterPolicy": "AuthLogin",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-auth-refresh": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/auth/refresh"
        },
        "Order": 0,
        "RateLimiterPolicy": "AuthRefresh",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-auth-logout": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/auth/logout"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-admin-roles": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/roles/{**catch-all}"
        },
        "Order": 1,
        "AuthorizationPolicy": "Admin",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-admin-permissions": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/permissions/{**catch-all}"
        },
        "Order": 1,
        "AuthorizationPolicy": "Admin",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-admin-logout-user": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/auth/logout/user/{**catch-all}"
        },
        "Order": 1,
        "AuthorizationPolicy": "Admin",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-admin-logout-users": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/auth/logout/users"
        },
        "Order": 1,
        "AuthorizationPolicy": "Admin",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-admin-users": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/v1/users/{**catch-all}"
        },
        "Order": 1,
        "AuthorizationPolicy": "Admin",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-health": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/health"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity-swagger": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/swagger/{**catch-all}"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "identity": {
        "ClusterId": "identity",
        "Match": {
          "Path": "/identity/{**catch-all}"
        },
        "Order": 10,
        "AuthorizationPolicy": "Authenticated",
        "Transforms": [
          {
            "PathRemovePrefix": "/identity"
          }
        ]
      },
      "tipologiche-health": {
        "ClusterId": "tipologiche",
        "Match": {
          "Path": "/tipologiche/health"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/tipologiche"
          }
        ]
      },
      "tipologiche-swagger": {
        "ClusterId": "tipologiche",
        "Match": {
          "Path": "/tipologiche/swagger/{**catch-all}"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/tipologiche"
          }
        ]
      },
      "tipologiche": {
        "ClusterId": "tipologiche",
        "Match": {
          "Path": "/tipologiche/{**catch-all}"
        },
        "Order": 10,
        "AuthorizationPolicy": "Authenticated",
        "Transforms": [
          {
            "PathRemovePrefix": "/tipologiche"
          }
        ]
      },
      "anagrafiche-health": {
        "ClusterId": "anagrafiche",
        "Match": {
          "Path": "/anagrafiche/health"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/anagrafiche"
          }
        ]
      },
      "anagrafiche-swagger": {
        "ClusterId": "anagrafiche",
        "Match": {
          "Path": "/anagrafiche/swagger/{**catch-all}"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/anagrafiche"
          }
        ]
      },
      "anagrafiche": {
        "ClusterId": "anagrafiche",
        "Match": {
          "Path": "/anagrafiche/{**catch-all}"
        },
        "Order": 10,
        "AuthorizationPolicy": "Authenticated",
        "Transforms": [
          {
            "PathRemovePrefix": "/anagrafiche"
          }
        ]
      },
      "risorseumane-health": {
        "ClusterId": "risorseumane",
        "Match": {
          "Path": "/risorseumane/health"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/risorseumane"
          }
        ]
      },
      "risorseumane-swagger": {
        "ClusterId": "risorseumane",
        "Match": {
          "Path": "/risorseumane/swagger/{**catch-all}"
        },
        "Order": 0,
        "Transforms": [
          {
            "PathRemovePrefix": "/risorseumane"
          }
        ]
      },
      "risorseumane": {
        "ClusterId": "risorseumane",
        "Match": {
          "Path": "/risorseumane/{**catch-all}"
        },
        "Order": 10,
        "AuthorizationPolicy": "Authenticated",
        "Transforms": [
          {
            "PathRemovePrefix": "/risorseumane"
          }
        ]
      },
      "risorseumane-bff-health": {
        "ClusterId": "risorseumane-bff",
        "Match": {
          "Path": "/bff/risorseumane/health"
        },
        "Order": 0,
        "AuthorizationPolicy": "Anonymous",
        "Transforms": [
          {
            "PathRemovePrefix": "/bff/risorseumane"
          }
        ]
      },
      "risorseumane-bff-swagger": {
        "ClusterId": "risorseumane-bff",
        "Match": {
          "Path": "/bff/risorseumane/swagger/{**catch-all}"
        },
        "Order": 0,
        "AuthorizationPolicy": "Anonymous",
        "Transforms": [
          {
            "PathRemovePrefix": "/bff/risorseumane"
          }
        ]
      },
      "risorseumane-bff": {
        "ClusterId": "risorseumane-bff",
        "Match": {
          "Path": "/bff/risorseumane/{**catch-all}"
        },
        "Order": 10,
        "AuthorizationPolicy": "Authenticated",
        "Transforms": [
          {
            "PathRemovePrefix": "/bff/risorseumane"
          }
        ]
      }
    },
    "Clusters": {
      "identity": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:7001/"
          }
        }
      },
      "tipologiche": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:7002/"
          }
        }
      },
      "anagrafiche": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:7003/"
          }
        }
      },
      "risorseumane": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:7004/"
          }
        }
      },
      "risorseumane-bff": {
        "Destinations": {
          "d1": {
            "Address": "http://localhost:7005/"
          }
        }
      }
    }
  }
}
